---
layout: post
title: Useful Linux scripts
date: '2014-08-18T19:23:00.000-07:00'
author: Daryl Bennett
tags:
- sh
- xbindkey
- Ubuntu
- linux
- bash
modified_time: '2014-08-18T19:29:55.233-07:00'
blogger_id: tag:blogger.com,1999:blog-7621217468312732627.post-38158468558347059
blogger_orig_url: http://kd8bny.blogspot.com/2014/08/useful-linux-scripts.html
---

Hey All! I know I havent been around of recently due to an extremely busy life. However here I am once again with something more useful for everyone! My new item on the table is a collection of Linux scripts (mostly bash) that I use everyday. Some of the collection include trim support, Google Drive, and xbind. So lets start!!!<br /><br /><br />First!!! All of these scripts can be found on Github. <a href="https://github.com/kd8bny/randoScripts.git" target="_blank">Linky</a><br /><br /><blockquote class="tr_bq"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">$git clone https://github.com/kd8bny/randoScripts.git</span></span></blockquote><h2><span style="font-size: small;">&nbsp;FSTRIM</span></h2><span style="font-family: inherit;"><span style="font-size: small;">If anyone owns a solid-state drive (SSD) trim support is a basic requirement. The basic issue is that an SSD can write pages of memory but only delete blocks. Blocks of memory consist of many pages. i.e. </span></span><span style="font-family: inherit;"><span style="font-size: small;"> (page &lt;&lt; block) For a much more detailed explanation read <a href="http://blog.neutrino.es/2013/howto-properly-activate-trim-for-your-ssd-on-linux-fstrim-lvm-and-dmcrypt/" target="_blank">here</a>. However as of this moment Linux does not support trim automatically, but it is easily added to cron tasks. In case you are a Linux n00b cron tasks are located the system and are executed on a regular basis.</span></span><br /><span style="font-family: inherit;"><span style="font-size: small;">Your choices of cron are:</span></span><br /><ul><li><span style="font-family: inherit;"><span style="font-size: small;">Hourly </span></span></li><li><span style="font-family: inherit;"><span style="font-size: small;">Daily</span></span></li><li><span style="font-family: inherit;"><span style="font-size: small;">Weekly</span></span></li></ul><span style="font-family: inherit;"><span style="font-size: small;">The script will execute whenever the system is free and calls cron.</span></span> Now for fstrim I personally call this weekly, monthly might even be a better option. As soon as trim is run your files are permanently removed, this means you will NOT be able to recover anything that has been trimed. All that is required of the user is to copy the script into the correct cron folder.<br /><br /><blockquote class="tr_bq"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">$sudo cp trim /etc/cron.weekly/</span></span></blockquote>BOOM! complete :) If you would like proof that is executes a log is created<i>:</i><br /><blockquote class="tr_bq"><i><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">$cat /var/log/fstrim.log</span></span> </i><span style="font-family: inherit;"><span style="font-size: small;"><br /></span></span></blockquote>&nbsp;<b>IMPORTANT!!!: </b>Read README.md if you are using an LVM partition under EXT4.<br /><br /><h2>Google Drive (grive)</h2>As a Linux user you may know that Google has failed to provide a native drive client for us. This means you cant keep files synchronized on your drive and computer without doing so manually. Fortunately the group at The Fan Club saw the issue and provided us with <a href="http://www.thefanclub.co.za/how-to/ubuntu-google-drive-client-grive-and-grive-tools" target="_blank"><i>grive</i></a>. Grive is a 3rd party sync tool specifically for Linux. Despite how awesome this application is, it is missing an automatic synchronize. For this very reason I decided to create a cron bash script to take care of that, hence <i>syncGrive. </i>This script is capable of handling multiple accounts as long as they are under a single directory. <i><br /></i><br /><br />This script uses the power of the grive application by The Fan Club. To add it:<br /><blockquote class="tr_bq"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">$sudo apt-add-repository http://www.thefanclub.co.za/how-to/ubuntu-google-drive-client-grive-and-grive-tools<br /><br />$sudo apt-get update &amp;&amp; sudo apt-get install grive</span></span></blockquote>After the application is installed copy my srcipt to cron.<br /><blockquote class="tr_bq"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$sudo cp trim /etc/cron.hourly/</span></span></blockquote>I personally run this hourly do to my extreme use of Google Drive, but choose what works for you the best.&nbsp; <br /><br />&nbsp;<b>IMPORTANT!!!: </b><br /><ol><li>The script assumes the directory is "~/grive"</li><ol><li>If not change the directory in line 3</li></ol><li>By default grive does not delete removed files from the directory, however the script does. (README.md)</li><ol><li>To remove this comment: line 9:: rm -r .trash &gt;&gt; $LOG&nbsp;</li></ol></ol>BOOM! complete AGAIN! :) If you would like proof that is executes a log is created<i>:</i><br /><blockquote class="tr_bq"><i><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">$cat /var/log/syncGrive.log</span></span> </i><span style="font-family: inherit;"><span style="font-size: small;"><br /></span></span></blockquote><h2>xbindkeys</h2>xbindkeys is a part of xautomation that allows you to re-purpose&nbsp; extra buttons on your mouse or keyboard in Linux. I see no real reason to cover this again in this exact same blog. Here is the link to the previous write-up. <a href="http://kd8bny.blogspot.com/2013/12/become-key-binding-pro-using-xbindkeys.html" target="_blank">Linky</a>